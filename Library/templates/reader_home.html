{% extends "layout.html" %}
{% block body %}
{% if session.reader_logged_in %}
<div class="row">
  <div class="col-md-2"></div>
  <div class="col-md-8">
      <h3>Waiting For</h3>
      <table class="table">
        <thead>
            <tr>
                <th>
                    Document Title
                </th>
                 <th>
                    Document Copy
                </th>
                <th>
                    Waiting Date
                </th>
                <th>
                    Delivery Date
                </th>
                <th>
                    Status
                </th>
            </tr>
        </thead>
        <tbody>
            {% for row in waitrows %}
            <tr>
                <td>
                    {{ row['doc_title'] }}
                </td>
                <td>
                    {{ row['doc_copy'] }}
                </td>
                <td>
                    {{ row['wait_date'] }}
                </td>
                <td>
                    {{ row['delivery_date'] }}
                </td>
                <td>
                    {{ row['status'] }}
                </td>
            </tr>
            {% else %}
                <em>No Data</em>
            {% endfor %}
        </tbody>
    </table>
  </div>
  <div class="col-md-2"></div>
</div>

<div class="row">
  <div class="col-md-2"></div>
  <div class="col-md-8">
      <h3>Borrowed</h3>
      <table class="table">
        <thead>
            <tr>
                <th>
                    Borrow Id
                </th>
                <th>
                    Borrowed From
                </th>
                <th>
                    Document Name
                </th>
                <th>
                    Document Copy
                </th>
                <th>
                    Document Status
                </th>
                <th>
                    Return By
                </th>
                <th>
                    Action
                </th>
            </tr>
        </thead>
        <tbody>
            {% for row in rows %}
            <tr>
                <td>
                    {{ row['borrow_id'] }}
                </td>
                <td>
                    {{ row['lib_id'] }}
                </td>
                <td>
                    {{ row['doc_title'] }}
                </td>
                <td>
                    {{ row['doc_copy'] }}
                </td>
                <td>
                    {{ row['doc_status'] }}
                </td>
                <td>
                    {{ row['exp_return'] }}
                </td>
                <td>
                    <a class="btn btn-primary btn-sm" href="{{ url_for('doc_return', borrow_id=row['borrow_id'] ) }}" role="button">Return</a>
                </td>
            </tr>
            {% else %}
                <em>No Data</em>
            {% endfor %}
        </tbody>
    </table>
  </div>
  <div class="col-md-2"></div>
</div>

<div class="row">
  <div class="col-md-2"></div>
  <div class="col-md-8">
      <h3>Returned</h3>
      <table class="table">
        <thead>
            <tr>
                <th>
                    Return Id
                </th>
                <th>
                    Returned To
                </th>
                <th>
                    Document Name
                </th>
                <th>
                    Document Copy
                </th>
                <th>
                    Return By
                </th>
            </tr>
        </thead>
        <tbody>
            {% for return in returnrows %}
            <tr>
                <td>
                    {{ return['return_id'] }}
                </td>
                <td>
                    {{ return['lib_id'] }}
                </td>
                <td>
                    {{ return['doc_title'] }}
                </td>
                <td>
                    {{ return['doc_copy'] }}
                </td>
                <td>
                    {{ return['actual_return'] }}
                </td>
            </tr>
            {% else %}
                <em>No Data</em>
            {% endfor %}
        </tbody>
    </table>
  </div>
  <div class="col-md-2"></div>
</div>
{% else %}
    <h3> No Access! </h3>
{% endif %}

{% endblock %}

